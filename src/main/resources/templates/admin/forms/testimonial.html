<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="admin/layout">
<head>
  <title>R2R-Trip</title>
  <link type="text/css" href="../../css/jquery-ui-1.10.0.custom.css" rel="stylesheet"/>
  <link type="text/css" href="../../css/bootstrap-tokenfield.min.css" rel="stylesheet"/>
  <style>
.ck-editor__editable {
    min-height: 200px;
}

.box-inline{
      box-shadow: 0 1px 1px rgba(0,0,0,0.5) !important;
      padding: 5px 10px;
}

.collapse{
  display: none;
}


</style>
</head>
<body>
<div layout:fragment="content">
  <div class="box box-primary">
    <div class="box-header with-border">
      <h1 class="box-title">Testimonial Form</h1>
    </div>
    <form role="form" th:action="@{'/testimonial/save'}" th:object="${response}" method="post">
      <div class="box-body">
        <div class="form-group">
          <label for="title">Title</label>
          <input type="text" class="form-control" name="title" id="title" placeholder="Title" th:value="${response.object.title}" required>
        </div>

        <div class="form-group">
          <label for="cover_trip">Cover</label>
          <div class="wrap-file">
            <input type="file" id="cover_trip">
          </div>
          <input type="hidden" id="hidden_cover_trip" name="coverLandscape"
                 th:value="${response.object.coverLandscape}">
          <!-- <input type="hidden" id="hidden_upload_thumb" name="thumbnail" th:value="${response.object.thumbnail}"> -->
          <div class="wrap_cover_trip collapse">
            <div class="progress">
              <div class="progress-bar progress-bar-info progress-bar-striped"
                   role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100"
                   style="">
              </div>
            </div>
            <div class="msg collapse text-info"><i class="fa fa-check"></i> Upload Succeed</div>
            <div class="pre_img">
              <img src="" alt="">
            </div>
          </div>
          <div th:if="${not #strings.isEmpty(response.object.coverLandscape)}"
               class="wrap-img-cover_trip p-top-sm">
            <img th:src="${response.object.coverLandscape}"/>
          </div>
        </div>

        <div class="form-group">
          <label for="icon_cover">Icon Cover</label>
          <div class="wrap-file">
            <input type="file" id="icon_cover">
          </div>
          <input type="hidden" id="hidden_icon_cover" name="iconCover"
                 th:value="${response.object.iconCover}">
          <!-- <input type="hidden" id="hidden_upload_thumb" name="thumbnail" th:value="${response.object.thumbnail}"> -->
          <div class="wrap_icon_cover collapse">
            <div class="progress">
              <div class="progress-bar progress-bar-info progress-bar-striped"
                   role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100"
                   style="">
              </div>
            </div>
            <div class="msg collapse text-info"><i class="fa fa-check"></i> Upload Succeed</div>
            <div class="pre_img">
              <img src="" alt="">
            </div>
          </div>
          <div th:if="${not #strings.isEmpty(response.object.iconCover)}"
               class="wrap-img-icon_cover p-top-sm">
            <img th:src="${response.object.iconCover}"/>
          </div>
        </div>

        <div class="form-group">
          <label>Trip Date</label>

          <div class="input-group date">
            <div class="input-group-addon">
              <i class="fa fa-calendar"></i>
            </div>
            <input type="text" class="form-control pull-right" name="tripDate" id="datepickers" th:value="${response.object.tripDate != null && response.object.tripDate != '' ? #dates.format(response.object.tripDate, 'MM/dd/yyyy') : ''}" required/>
          </div>
        </div>

        <div class="form-group">
          <label for="description">Description Trip</label>
          <textarea class="form-control" name="description" id="description" placeholder="Enter description" th:text="${response.object.description}"></textarea>
        </div>

        <label for="add-article">Add Article</label>
        <button style="margin: 0px 15px; height: 30px;" id="add-article" type="button"
                class="btn btn-default btn-sm m-bottom-sm btn-add-tab">
          <i class="fa fa-plus fa-lg"></i>
        </button>
        <div class="form-group article-list">
          <label for="description">Article</label>
          <div class="article-list-0">
            <textarea class="form-control" name="article" id="article1" placeholder="Enter description" th:text="${response.object.article}"></textarea>
          </div>
        </div>

        <div class="form-group">
        <label for="tag">Tag</label>
        <input type="text" name="tag" class="form-control" th:value="${response.object.tag}" id="tag" placeholder="Tag" required>
      </div>
      </div>
      <div class="box-footer">
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </form>
  </div>
</div>
<th:block layout:fragment="footer-js">
  <link type="text/css" href="../../css/jquery-ui-1.10.0.custom.css" rel="stylesheet"/>
  <!--<script src="https://code.jquery.com/ui/1.10.4/jquery-ui.min.js"></script>-->
  <script src="https://cdn.ckeditor.com/ckeditor5/12.0.0/classic/ckeditor.js"></script>
  <script src="../../js/si/jquery.html5uploader.min.js"></script>
  <script src="../../js/si/bootstrap-tokenfield.min.js"></script>
  <script src="../../js/si/typehead.bundle.min.js"></script>
  <script src="../../js/si/upload.js"></script>
  <script src="../../js/si/testimonial.js"></script>
  <script>
    $(function() {
      $(document).ready(function () {
          upload_trip("/api/trip/upload_icon", "icon_cover","#icon_cover", "#hidden_icon_cover",640,640, "landscape");
          upload_trip("/api/trip/upload_trip", "cover_trip","#cover_trip", "#hidden_cover_trip",640,640, "potrait");
      });
      $('#datepickers').datepicker({
        format: 'mm/dd/yyyy',
        startDate: new Date(),
      });
     });

     $('#tag').tokenfield({
      <!--autocomplete: {-->
        <!---->
        <!--delay: 100-->
      <!--},-->
      <!--showAutocompleteOnFocus: true-->
    })

    ClassicEditor
    .create(document.querySelector( '#article1' ))
    .then(editor => {
      myEditor = editor;
      console.log(myEditor.getData())
    })
    .catch(error => {});

    ClassicEditor
    .create(document.querySelector( '#description' ))
    .then(editor => {
      myEditor = editor;
      console.log(myEditor.getData())
    })
    .catch(error => {});
  </script>
</th:block>
</body>
</html>