<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="admin/layout">
<head>
  <title>R2R-Trip</title>
</head>
<body>
<div layout:fragment="content">
  <div class="box box-primary">
    <div class="box-header with-border">
      <h1 class="box-title">Trip Itinerary Form</h1>
    </div>
    <form role="form" id="itineraryForm" th:action="${action}" th:object="${response}" method="POST">
      <div class="box-body">
        <div class="form-group">
          <div class="form-group">
            <label>Day</label>
            <select class="form-control" id="group">
              <option>Select</option>
              <option th:each="n : ${#numbers.sequence(1, duration)}" th:value="${n}" th:text="${n}" th:selected="${#lists.size(response.object) != 0 ? n == response.object[0].group : false}"/>
            </select>
          </div>

          <div class="form-group">
            <label for="title">Title</label>
            <input type="text" class="form-control" id="title" placeholder="Title ex: Day 1" th:value="${#lists.size(response.object) != 0 ? response.object[0].groupTitle : ''}" required>
          </div>

          <!--<button type="button" class="btn btn-info itinerary-btn collapse" data-toggle="collapse" data-target="#itinerary-form">Simple collapsible</button>-->
          <!--<div class="form-group box box-success box-inline">-->
            <!--<div class="box-header">-->
              <label for="add-event">List Events</label>
              <button style="margin: 0px 15px; height: 30px;" id="add-event" type="button"
                      class="btn btn-default btn-sm m-bottom-sm btn-add-tab">
                <i class="fa fa-plus fa-lg"></i>
              </button>
            <!--</div>-->
            <div id="itinerary-form">
              <div th:each="model, iterStat:${response.object}" th:id="warper-+${iterStat.index}+.id" class="m-bottom-xs warpers" style="width : 100%" >
                <input type="hidden" th:id="id[+${iterStat.index}+]"
                       class="tab_id" th:name="model[+${iterStat.index}+].id"
                       th:value="${model.id}"
                       th:if="${model.id != 0}">
                <div id="add-tab-field-title" class="m-bottom-xs" style="width : 100%">
                  <br/>
                  <div class="itinerary-event">
                    <label for="picture-0">Picture</label>
                    <input type="file" class="form-control" id="picture-0">
                    <label for="event-0">Event</label>
                    <input type="text" class="form-control" id="event-0" name="model[+${iterStat.index}+].title" placeholder="Enter Event Title"
                           th:value="${model.title}">
                    <!--<input type="text" class="form-control" id="event-0" name="itineraries[0].title" placeholder="Enter Title Description">-->
                    <label for="description-0">Description</label>
                    <textarea class="form-control" id="description-0" name="model[+${iterStat.index}+].description" th:text="${model.description}" placeholder="Enter Description"></textarea>
                    <input type="hidden" class="group" name="model[+${iterStat.index}+].group" value="">
                    <input type="hidden" class="hidden" name="model[+${iterStat.index}+].groupTitle" value="">
                    <!--<input type="hidden" class="hidden" name="itineraries[0].groupTitles" value="">-->
                    <!--<input type="hidden" name="id" th:value="${response.object[0].id}">-->
                    <!--<input type="hidden" class="hidden" name="itineraries[0].title" value="">-->
                  </div>
                </div>
            </div>
          </div>
        </div>
      </div>
      <div class="box-footer">
        <button th:if="${#lists.size(response.object) != 0}" type="button" id="itinerarySaveBtn" class="btn btn-primary">Submit</button>
      </div>
    </form>
  </div>
</div>
<th:block layout:fragment="footer-js">
  <script src="/js/si/tripItinerary.js"></script>
</th:block>
</body>
</html>